# ========================================
# PARKSHARE - Configuration Production
# ========================================
# ⚠️  NE PAS COMMITTER CE FICHIER AVEC DES VALEURS RÉELLES
# ⚠️  Utiliser un gestionnaire de secrets (AWS Secrets Manager, Vault, etc.)
# ========================================

# Application
NODE_ENV=production
PORT=3000
API_PREFIX=api

# Database (PostgreSQL with PostGIS)
DATABASE_URL=postgresql://username:password@host:5432/parkshare
# Ou séparé:
# DATABASE_HOST=your-db-host.rds.amazonaws.com
# DATABASE_PORT=5432
# DATABASE_NAME=parkshare
# DATABASE_USER=parkshare_user
# DATABASE_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# JWT Authentication
# Générer avec: node -e "console.log(require('crypto').randomBytes(64).toString('base64url'))"
JWT_SECRET=CHANGE_ME_64_CHARS_MINIMUM
JWT_EXPIRATION=1h
JWT_REFRESH_SECRET=CHANGE_ME_64_CHARS_MINIMUM_DIFFERENT
JWT_REFRESH_EXPIRATION=7d

# Stripe (Paiements)
STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_PUBLISHABLE_KEY

# AWS S3 (Stockage fichiers)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_REGION=eu-west-1
AWS_S3_BUCKET=parkshare-production-uploads

# Twilio (SMS / Vérification)
TWILIO_ACCOUNT_SID=YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+33600000000
TWILIO_VERIFY_SERVICE_SID=YOUR_VERIFY_SERVICE_SID

# HERE Maps (Géolocalisation)
HERE_API_KEY=YOUR_HERE_API_KEY

# CORS (Frontend URL)
CORS_ORIGIN=https://parkshare.com,https://www.parkshare.com

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Rate Limiting
THROTTLE_TTL=60000
THROTTLE_LIMIT=100
THROTTLE_AUTH_LIMIT=10

# Sentry (Error Tracking)
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production

# Email (SendGrid)
SENDGRID_API_KEY=YOUR_SENDGRID_API_KEY
EMAIL_FROM=noreply@parkshare.com
EMAIL_FROM_NAME=ParkShare

# Redis (Cache & Sessions) - Optionnel
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# Monitoring
NEW_RELIC_LICENSE_KEY=YOUR_NEW_RELIC_KEY
NEW_RELIC_APP_NAME=parkshare-api-production

# Security
HELMET_CSP_ENABLED=true
CORS_CREDENTIALS=true

# Feature Flags
FEATURE_EV_CHARGING=true
FEATURE_SPOT_SWAP=true
FEATURE_SUBSCRIPTIONS=true
FEATURE_ANPR=false

# Backup
BACKUP_S3_BUCKET=parkshare-backups
BACKUP_RETENTION_DAYS=90

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE_TIMEOUT=5000
HEALTH_CHECK_DISK_THRESHOLD=0.9

# Performance
MAX_JSON_SIZE=1mb
MAX_FILE_SIZE=10mb
REQUEST_TIMEOUT=30000
